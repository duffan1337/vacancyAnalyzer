(this.webpackJsonpvacancy_statistic=this.webpackJsonpvacancy_statistic||[]).push([[0],{46:function(e,a,t){},47:function(e,a,t){},75:function(e,a,t){},76:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),r=t(36),i=t.n(r),s=(t(46),t(8)),o=(t(47),t(23)),l=t.n(o),d=l.a.create({baseURL:"https://api.hh.ru/"}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return d.get("vacancies?text=".concat(e,"&only_with_salary=true&page=").concat(a,"&per_page=100&area=16")).then((function(e){return e.data}))},u=function(e){return d.get("vacancies/".concat(e)).then((function(e){return e.data})).catch((function(e){return window.open(e.response.data.errors[0].captcha_url+"&backurl="+document.location.origin)}))},j=function(){return l.a.get("https://v6.exchangerate-api.com/v6/4f44d7ad6be4d970e8ecc92e/latest/USD/").then((function(e){return e.data}))},p=t(7),h=function(e){return{type:"SET_ALL_DATA",payload:e}},f=t(15),O=t(25),y=t(2),m=t(4),v={vacancy:[],detailedVacancy:[],isLoaded:!1,vacancyName:"",top10Skills:[],experience:[],schedule:[],salaryByExperience:[],salaryStat:{},cities:[],currentPage:0,pages:0,allDataLoaded:!1},x=function(e,a){var t=C(e,a),n=t.from.concat(t.to),c=Math.min.apply(Math,Object(m.a)(n));return{max:Math.max.apply(Math,Object(m.a)(n)),min:c,middle:Math.trunc(n.reduce((function(e,a){return e+a}))/n.length)}},g=function(e){var a=e.map((function(e){return e.schedule})),t={remote:0,fullDay:0,flexible:0};for(var n in a)"remote"===a[n].id?t=Object(y.a)(Object(y.a)({},t),{},{remote:t.remote+=1}):"fullDay"===a[n].id?t=Object(y.a)(Object(y.a)({},t),{},{fullDay:t.fullDay+=1}):"flexible"===a[n].id&&(t=Object(y.a)(Object(y.a)({},t),{},{flexible:t.fullDay+=1}));return t},A=function(e){var a=e.map((function(e){return e.experience.id})),t={between1And3:0,between3And6:0,noExperience:0,moreThan6:0};for(var n in a)"between1And3"===a[n]?t=Object(y.a)(Object(y.a)({},t),{},{between1And3:t.between1And3+=1}):"between3And6"===a[n]?t=Object(y.a)(Object(y.a)({},t),{},{between3And6:t.between3And6+=1}):"noExperience"===a[n]?t=Object(y.a)(Object(y.a)({},t),{},{noExperience:t.noExperience+=1}):"moreThan6"===a[n]&&(t=Object(y.a)(Object(y.a)({},t),{},{moreThan6:t.noExperience+=1}));return t},N=function(e){var a={items:[]};Array.from(e,(function(e){return Array.from(e.key_skills,(function(e){a=Object(y.a)(Object(y.a)({},a),{},{items:[].concat(Object(m.a)(a.items),[e.name])})}))}));var t=a.items.reduce((function(e,a){return e[a]=(e[a]||0)+1,e}),{}),n=[];for(var c in t)n.push([c,t[c]]);return n.sort((function(e,a){return a[1]-e[1]})).slice(0,10)},E=function(e){var a=e.filter((function(e){return null!==e.address&&null!==e.address.city})).map((function(e){return e.address.city})).reduce((function(e,a){return e[a]=(e[a]||0)+1,e}),{}),t=[];for(var n in a)t.push([n,a[n]]);return t.sort((function(e,a){return a[1]-e[1]})).slice(0,10)},w=function(e,a){var t={between1And3:[],between3And6:[],noExperience:[],moreThan6:[]};for(var n in e)"between1And3"===e[n].experience.id?t=Object(y.a)(Object(y.a)({},t),{},{between1And3:[].concat(Object(m.a)(t.between1And3),[e[n]])}):"between3And6"===e[n].experience.id?t=Object(y.a)(Object(y.a)({},t),{},{between3And6:[].concat(Object(m.a)(t.between3And6),[e[n]])}):"noExperience"===e[n].experience.id?t=Object(y.a)(Object(y.a)({},t),{},{noExperience:[].concat(Object(m.a)(t.noExperience),[e[n]])}):"moreThan6"===e[n].experience.id&&(t=Object(y.a)(Object(y.a)({},t),{},{moreThan6:[].concat(Object(m.a)(t.moreThan6),[e[n]])}));var c=C(t.between1And3,a),r=C(t.between3And6,a),i=C(t.noExperience,a),s=C(t.moreThan6,a),o=_(c.from.concat(c.to)),l=_(r.from.concat(r.to));return{AVGnoExperience:_(i.from.concat(i.to)),AVGbetween1And3:o,AVGbetween3And6:l,AVGmoreThan6:_(s.from.concat(s.to))}},C=function(e,a){var t={KZT:a.KZT,RUR:a.RUB,BYR:a.BYN,USD:a.USD,EUR:a.EUR,UAH:a.UAH};return{from:e.filter((function(e){return null!==e.salary.from&&0!==e.salary.from})).map((function(e){if("USD"!==e.salary.currency){var a;for(var n in t)n===e.salary.currency&&(a=Math.trunc(e.salary.from/t[n]));return a}return e.salary.from})),to:e.filter((function(e){return null!==e.salary.to&&0!==e.salary.to})).map((function(e){if("USD"!==e.salary.currency){var a;for(var n in t)n===e.salary.currency&&(a=Math.trunc(e.salary.to/t[n]));return a}return e.salary.to}))}};function _(e){var a=e.reduce((function(e,a){return e+a}),0);return Math.trunc(a/e.length)}var S=function(e,a){return function(t){t({type:"SET_VACANCY_NAME",payload:e});b(e).then((function(a){t(function(e){return{type:"ADD_ALL_VACANCY",payload:e}}(a)),t(k(a)),t(function(e,a,t){return function(){var t=Object(O.a)(Object(f.a)().mark((function t(n){var c;return Object(f.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=1;case 1:if(!(c<=e)){t.next=8;break}return t.next=4,b(a,c).then((function(e){n({type:"ADD_ALL_VACANCY_2",payload:e}),n(k(e))}));case 4:n({type:"SET_CURRENT_PAGE",payload:c});case 5:c++,t.next=1;break;case 8:return t.abrupt("return",0);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(a.pages,e))}));t(h(a))}},k=function(e){return function(a){var t=function(e){return function(a){return u(e).then((function(e){a({type:"ADD_DETAILED_VACANCY",payload:e})}))}};e.items.forEach(function(){var e=Object(O.a)(Object(f.a)().mark((function e(n){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t(n.id));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;if("SET_VACANCY_NAME"===a.type)return Object(y.a)(Object(y.a)({},e),{},{vacancyName:a.payload});if("SET_CURRENT_PAGE"===a.type)return Object(y.a)(Object(y.a)({},e),{},{currentPage:a.payload});if("ADD_ALL_VACANCY"===a.type)return console.log(a.payload.pages),Object(y.a)(Object(y.a)({},e),{},{isLoaded:!0,vacancy:a.payload.items,detailedVacancy:[],pages:a.payload.pages});if("ADD_ALL_VACANCY_2"===a.type){Object(y.a)(Object(y.a)({},e),{},{vacancy:[].concat(Object(m.a)(e.vacancy),[a.payload.items])});return console.log(a.payload.pages),Object(y.a)(Object(y.a)({},e),{},{vacancy:[].concat(Object(m.a)(e.vacancy),Object(m.a)(a.payload.items)),pages:a.payload.pages})}if("ADD_DETAILED_VACANCY"===a.type)return Object(y.a)(Object(y.a)({},e),{},{detailedVacancy:[].concat(Object(m.a)(e.detailedVacancy),[a.payload]),isLoaded:e.detailedVacancy.length!==e.vacancy.length-1});if("SET_ALL_DATA"===a.type){var t=e.detailedVacancy,n=Object(y.a)(Object(y.a)({},e),{},{salaryStat:x(t,a.payload.currencies),schedule:g(t),experience:A(t),top10Skills:N(t),salaryByExperience:w(t,a.payload.currencies),cities:E(t),isLoaded:!1,allDataLoaded:!0});return n}return e},V=(t(75),t(76),t(0)),T=function(e){var a=Object(n.useState)(!0),t=Object(s.a)(a,2),c=t[0],r=t[1];return Object(V.jsx)("div",{children:Object(V.jsx)("label",{class:"theme-container",children:Object(V.jsx)("button",{onClick:function(){r(!c)},class:c?"theme light":"theme dark","data-label-on":"","data-label-off":"",children:c?"light":"dark"})})})},L=function(e){var a=e.dispatch,t=e.getAllVacancies,c=e.currencies,r=Object(n.useState)(""),i=Object(s.a)(r,2),o=i[0],l=i[1];Object(p.c)((function(e){return{vacancyName:e.vacancy.vacancyName}})).vacancyName;return Object(V.jsxs)("div",{className:"header-wrapper",children:[Object(V.jsxs)("div",{className:"left-section",children:[Object(V.jsx)("input",{className:"search-input",type:"text",value:o,placeholder:"Enter a vacancy",onChange:function(e){return l(e.target.value)}}),Object(V.jsx)("button",{className:"sendButton",onClick:function(){a(t(o,c))},children:"Search"})]}),Object(V.jsxs)("div",{className:"right-section",children:[Object(V.jsx)(T,{}),Object(V.jsx)("img",{className:"changeThemeimg"})]})]})},B=(t(78),t(3)),R=t(9),U=function(e){var a=e.keySkills;B.f.register(B.e,B.j,B.c,B.o,B.p,B.h);var t={labels:a.map((function(e){return e[0]})),datasets:[{label:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430",data:a.map((function(e){return e[1]})),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.7)"}]};return Object(V.jsx)("div",{className:"skillsChart",children:Object(V.jsx)(R.a,{data:t,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"\u0422\u043e\u043f 10 \u043d\u0430\u0432\u044b\u043a\u043e\u0432"}}}})})};t(79);B.f.register(B.a,B.p,B.h);var M=function(e){var a=e.experience,t={labels:["1-3 \u0433\u043e\u0434\u0430","3-6 \u043b\u0435\u0442","\u0431\u0435\u0437 \u043e\u043f\u044b\u0442\u0430","6 \u0438 \u0431\u043e\u043b\u0435\u0435 \u043b\u0435\u0442"],datasets:[{label:"# of Votes",data:[a.between1And3,a.between3And6,a.noExperience,a.moreThan6],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(V.jsxs)("div",{className:"experienceChart",children:[Object(V.jsx)("p",{children:"\u041e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(V.jsx)(R.b,{data:t})]})};t(80);B.f.register(B.a,B.p,B.h);var G=function(e){var a=e.schedule,t={labels:["\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430","\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u0435\u043d\u044c","\u0413\u0438\u0431\u043a\u0438\u0439 \u0433\u0440\u0430\u0444\u0438\u043a"],datasets:[{label:"# of Votes",data:[a.remote,a.fullDay,a.flexible],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return Object(V.jsxs)("div",{className:"scheduleChart",children:[Object(V.jsx)("p",{children:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(V.jsx)(R.b,{data:t})]})};t(81);function P(e){var a=e.experienceBySalary;B.f.register(B.e,B.j,B.c,B.o,B.p,B.h);var t={labels:["\u0411\u0435\u0437 \u043e\u043f\u044b\u0442\u0430 ","1-3 \u0433\u043e\u0434\u0430","3-6 \u043b\u0435\u0442","6 \u0438 \u0431\u043e\u043b\u0435\u0435 \u043b\u0435\u0442"],datasets:[{label:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430",data:[a.AVGnoExperience,a.AVGbetween1And3,a.AVGbetween3And6,a.AVGmoreThan6],borderColor:"rgb(30, 20, 200)",backgroundColor:"rgba(30, 20, 200, 0.7)"}]};return Object(V.jsx)("div",{className:"salaryByExperienceChart",children:Object(V.jsx)(R.a,{options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}}},data:t})})}t(82);var Y=function(e){var a=e.cities;B.f.register(B.e,B.j,B.c,B.o,B.p,B.h);var t={labels:a.map((function(e){return e[0]})),datasets:[{label:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430",data:a.map((function(e){return e[1]})),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.7)"}]};return Object(V.jsx)("div",{className:"citiesChart-wrapper",children:Object(V.jsx)("div",{className:"citiesChart",children:Object(V.jsx)(R.a,{data:t,options:{indexAxis:"y",elements:{bar:{borderWidth:2}},responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"\u0422\u043e\u043f 10 \u0433\u043e\u0440\u043e\u0434\u043e\u0432"}}}})})})},W=function(e){var a=e.bgcolor,t=e.completed,n={height:"100%",width:"".concat(t,"%"),backgroundColor:a,borderRadius:"inherit",textAlign:"right",transition:"width 1s ease-in-out"};return Object(V.jsx)("div",{style:{height:"15px",width:"20%",backgroundColor:"#e0e0de",borderRadius:50,margin:"0 auto"},children:Object(V.jsx)("div",{style:n,children:Object(V.jsx)("span",{style:{padding:5,color:"white",fontWeight:"bold"},children:"".concat(t,"%")})})})},F=(t(83),function(e){var a=e.statElement,t=e.statName,n=e.icon,c=e.isVisible;return Object(V.jsxs)("div",{className:"Stat-block",children:[Object(V.jsx)("p",{className:"Stat-name",children:t}),c?Object(V.jsxs)("h1",{className:"Stat-element",children:[n,a]}):""]})});var I=function(){var e=Object(p.c)((function(e){return{vacancy:e.vacancy.vacancy}})).vacancy,a=Object(p.c)((function(e){return{top10Skills:e.vacancy.top10Skills}})).top10Skills,t=Object(p.c)((function(e){return{experience:e.vacancy.experience}})).experience,c=Object(p.c)((function(e){return{schedule:e.vacancy.schedule}})).schedule,r=Object(p.c)((function(e){return{salaryStat:e.vacancy.salaryStat}})).salaryStat,i=Object(p.c)((function(e){return{salaryByExperience:e.vacancy.salaryByExperience}})).salaryByExperience,o=Object(p.c)((function(e){return{cities:e.vacancy.cities}})).cities,l=Object(p.c)((function(e){return{vacancyName:e.vacancy.vacancyName}})).vacancyName,d=Object(p.c)((function(e){return{pageLoad:e.vacancy.currentPage}})).pageLoad,b=Object(p.c)((function(e){return{allPage:e.vacancy.pages}})).allPage,u=Object(p.c)((function(e){return{allDataLoaded:e.vacancy.allDataLoaded}})).allDataLoaded;n.useEffect((function(){j().then((function(e){v(e.conversion_rates)}))}),[]);var f=Object(p.b)(),O=Object(n.useState)({}),y=Object(s.a)(O,2),m=y[0],v=y[1];return Object(V.jsx)("body",{className:"App-body",children:Object(V.jsx)("div",{className:"App",children:Object(V.jsxs)("div",{className:"app-container _container",children:[Object(V.jsx)("header",{className:"header",children:Object(V.jsx)("div",{className:"header-container",children:Object(V.jsx)(L,{dispatch:f,getAllVacancies:S,currencies:m})})}),Object(V.jsxs)("div",{className:"App-body-container",children:[d!==b?Object(V.jsx)(W,{bgcolor:"#6a1b9a",completed:Math.trunc(d/(b-1)*100)}):"",d?Object(V.jsx)("button",{className:"ShowDataButton",onClick:function(){f(h({currencies:m}))},children:"visible data"}):"",Object(V.jsxs)("div",{className:"Stat",children:[0!==e.length?Object(V.jsxs)("p",{children:['\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "',l,'": ',e.length]}):"",Object(V.jsxs)("div",{className:"SalaryStat-blocks",children:[Object(V.jsx)(F,{isVisible:u,statName:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0430\u043a\u0430\u043d\u0441\u0438\u0439",statElement:e.length}),Object(V.jsx)(F,{isVisible:u,statName:"max",statElement:r.max,icon:"$"}),Object(V.jsx)(F,{isVisible:u,statName:"\u043ciddle",statElement:r.middle,icon:"$"}),Object(V.jsx)(F,{isVisible:u,statName:"min",statElement:r.min,icon:"$"})]})]}),Object(V.jsx)("div",{className:"Charts",children:Object(V.jsx)("div",{className:"Charts-wrapper",children:Object(V.jsxs)("div",{className:"DiagramCharts ",children:[Object(V.jsxs)("div",{className:"First-charts-block _chartBlock",children:[Object(V.jsx)("div",{className:"chart-wrapper",children:Object(V.jsx)(M,{experience:t})}),Object(V.jsx)("div",{className:"chart-wrapper",children:Object(V.jsx)(U,{keySkills:a})})]}),Object(V.jsxs)("div",{className:"Second-charts-block _chartBlock",children:[Object(V.jsx)("div",{className:"chart-wrapper",children:Object(V.jsx)(G,{schedule:c})}),Object(V.jsx)("div",{className:"chart-wrapper",children:Object(V.jsx)(P,{experienceBySalary:i})})]}),Object(V.jsx)("div",{className:"Third-charts-block _chartBlock",children:Object(V.jsx)("div",{className:"chart-wrapper",children:Object(V.jsx)(Y,{cities:o})})})]})})})]})]})})})},$=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,85)).then((function(a){var t=a.getCLS,n=a.getFID,c=a.getFCP,r=a.getLCP,i=a.getTTFB;t(e),n(e),c(e),r(e),i(e)}))},H=t(16),J=t(39),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,X=Object(H.b)({vacancy:D}),Z=Object(H.d)(X,K(Object(H.a)(J.a)));i.a.createRoot(document.getElementById("root")).render(Object(V.jsx)(c.a.StrictMode,{children:Object(V.jsx)(p.a,{store:Z,children:Object(V.jsx)(I,{})})})),$()}},[[84,1,2]]]);
//# sourceMappingURL=main.dc695eb4.chunk.js.map